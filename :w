class TradesController < ApplicationController
  skip_before_action :authenticate_user!, :only => [:demo]

  def new
    @league = League.find(params['league_id'])
    @my_team = @league.teams.where( :user => current_user ).first
    @other_teams = @league.teams.where( :user => nil )

    if !@other_teams.first.imported
      @other_teams.first.import(current_user)
    end
  end

  def demo
    @league = League.find('995273')
    @my_team = @league.teams[0]
    @other_teams = @league.teams.slice(0, @league.teams.length - 1)
  end
end
